System.register(["./index-b0513f57.js","./index-272f0464.js","./defineProperty-a1089ec5.js","./slicedToArray-4acdf83a.js","./toConsumableArray-62f8d598.js","./common-d400c37d.js","./api-79424633.js","./actionTypes-b0d14a88.js","./index-fbae8ffb.js","./extends-0c7a6a58.js","./objectWithoutProperties-6039c2e9.js","./Pager-f37bd16c.js","./index-e4d520eb.js","./Icons-c6c555dc.js","./index-21526502.js"],function(e){"use strict";var t,n,a,r,l,u,c,o,i,s,d,f,m,p,y,E,b,h;return{setters:[function(e){t=e.b,n=e.R},function(e){a=e.L},function(){},function(e){r=e._},function(){},function(e){l=e.getFormData,u=e.updateUserStore,c=e.resizeImage},function(e){o=e.a},function(e){i=e.t},function(e){s=e.u},function(){},function(){},function(e){d=e.P},function(e){f=e.F,m=e.H,p=e.L,y=e.T,E=e.A},function(e){b=e.B},function(e){h=e.a}],execute:function(){e("default",s(function(e){return{session:e.session}})(function(e){var s=e.session,j=e.dispatch,g=t(s.picture),v=r(g,2),T=v[0],I=v[1],S=t(""),x=r(S,2),N=x[0],U=x[1],V=t(s.picture),D=r(V,2),F=D[0],P=D[1],A=t(!1),L=r(A,2),O=L[0],R=L[1],_=function(e){var t=new FormData;t.append("category","profile"),t.append("file",N),j({type:i.SET_AUTHORIZE,payload:{status:!1}});var n=l(e);return u(n),h(o.updatePersonalInfo,e).then(function(e){j({type:i.SET_SESSION,payload:n}),j({type:i.SET_BUTTON,payload:!1})}).then(function(){return O&&h(o.uploadImage,t)})};return n.createElement(d,{classname:"personalInfo"},n.createElement("div",{className:"header"},n.createElement("div",{className:"back"},n.createElement(a,{to:"/profile"},n.createElement(b,null))),n.createElement("h5",null,"Personal Info")),n.createElement("div",{className:"file"},n.createElement("div",{id:"picture",style:{backgroundImage:O?"url(".concat(T,")"):"url(https://s3.eu-west-2.amazonaws.com/triva/profile/".concat(T||"outline.png",")")}}),f({onChange:function(e){!function(e){e.target.files[0]&&(R(!0),I(URL.createObjectURL(e.target.files[0])),c(e).then(function(e){U(e),P(e.name)}))}(e)}})),n.createElement("div",null,n.createElement("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(document.querySelector("form")),n=e.target.bday.value.split("-");return t.append("birthdayDay",n[2]),t.append("birthdayMonth",n[1]),t.append("birthdayYear",n[0]),j({type:i.SET_AUTHORIZE,payload:{status:!0,proceed:function(){return _(t)}}})}},m({name:"picture",defaultValue:F}),n.createElement(p,null,"First Name",y({name:"firstname",defaultValue:s.firstname||""})),n.createElement(p,null,"Last Name",y({name:"lastname",defaultValue:s.lastname||""})),n.createElement(p,null,"Gender",n.createElement("select",{name:"gender",defaultValue:s.gender||""},n.createElement("option",null,"Male"),n.createElement("option",null,"Female"))),n.createElement(p,null,"Country",y({name:"country",defaultValue:s.country})),n.createElement(p,null,"Tel",y({name:"tel",defaultValue:s.tel||""})),n.createElement(p,null,"Birthday",n.createElement("input",{type:"date",name:"bday",defaultValue:s.birthdayYear+"-"+s.birthdayMonth+"-"+s.birthdayDay||"",required:!0})),n.createElement(p,null,n.createElement(E,null,"Update Info")))))}))}}});
