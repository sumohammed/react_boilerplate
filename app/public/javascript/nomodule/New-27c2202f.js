System.register(["./index-b0513f57.js","./index-272f0464.js","./defineProperty-a1089ec5.js","./slicedToArray-4acdf83a.js","./toConsumableArray-62f8d598.js","./common-d400c37d.js","./api-79424633.js","./actionTypes-b0d14a88.js","./index-fbae8ffb.js","./extends-0c7a6a58.js","./objectWithoutProperties-6039c2e9.js","./Pager-f37bd16c.js","./Dialog-24c60389.js","./index-e4d520eb.js","./Icons-c6c555dc.js","./Animate-411c42ad.js","./index-21526502.js"],function(e){"use strict";var n,t,a,c,u,r,o,l,i,m,s,f,d,b,E,p,j,v,y,h,g,x;return{setters:[function(e){n=e.b,t=e.a,a=e.R},function(e){c=e.L,u=e.n},function(){},function(e){r=e._},function(){},function(e){o=e.checkBalance},function(e){l=e.a},function(e){i=e.t},function(e){m=e.u},function(){},function(e){s=e._},function(e){f=e.P},function(e){d=e.D},function(e){b=e.L,E=e.N,p=e.T},function(e){j=e.E},function(e){v=e.A},function(e){y=e.f,h=e.a,g=e.A,x=e.h}],execute:function(){e("default",m(function(e){return{session:e.session,balance:e.balance}})(function(e){var m=e.option,q=e.balance,A=e.dispatch,N=s(e,["option","balance","dispatch"]),k=n(!1),C=r(k,2),S=C[0],B=C[1],P=y(q.balance,"request"===m?"credit":"debit"),T=r(P,2),D=T[0],L=T[1],_=n({}),G=r(_,2),H=G[0],I=G[1],M=function(e,n,t){return B(!1),u("/pay?tab=pay&amount=".concat(e,"&name=").concat(n,"&via=").concat(t,"#/new/payee"))};return t(function(){h(l.getBalance).then(function(e){return A({type:i.SET_BALANCE,payload:e})})},[]),a.createElement(a.Fragment,null,a.createElement(f,null,a.createElement("div",{className:"header"},a.createElement(c,{to:"/pay"},a.createElement(j,null)),a.createElement("h6",null,"Â¢",D+" "," ",a.createElement("span",null,"bal"))),a.createElement("div",null,a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=e.target.amount.value,t=e.target.name.value;if(!Number(n))return g("Enter amount!");if("request"===m){var a=document.querySelector("input[name=amount]").value;if(!Number(a))return g("Enter amount!");var c="GHS".concat(a," - ").concat(e.target.note.value),r="https://hitriva.me/".concat(N.session.username);return x("Request Payment",c,r,function(){return u("/pay")})}return o(n,q.balance)?(I({amount:n,name:t}),B(!0)):g("Insufficient Balance")}},a.createElement(b,{id:"amount"},E({name:"amount",onChange:function(e){return L(e.target.value)},defaultValue:"0.00"}),"GHS"),"send"===m?a.createElement(b,null,p({name:"name",placeholder:"Name",required:!0})):a.createElement(b,null,p({name:"note",placeholder:"Optional note",required:!0})),a.createElement("button",null,"".concat("request"===m?m:"Next"))))),S?a.createElement(d,{onClick:B},a.createElement(v,{onClick:function(){return M(H.amount,H.name,"momo")}},a.createElement("li",null,"Mobile Money")),a.createElement(v,{onClick:function(){return M(H.amount,H.name,"bank")}},a.createElement("li",null,"Bank"))):"")}))}}});
