System.register(["./index-b0513f57.js","./index-272f0464.js","./defineProperty-a1089ec5.js","./slicedToArray-4acdf83a.js","./toConsumableArray-62f8d598.js","./common-d400c37d.js","./api-79424633.js","./actionTypes-b0d14a88.js","./index-fbae8ffb.js","./extends-0c7a6a58.js","./objectWithoutProperties-6039c2e9.js","./Pager-f37bd16c.js","./index-e4d520eb.js","./Icons-c6c555dc.js","./index-21526502.js","./DataSets-87160df1.js"],function(e){"use strict";var n,t,a,c,r,o,u,l,s,i,m,d,f,p,E,y,T;return{setters:[function(e){n=e.R},function(e){t=e.L,a=e.n},function(){},function(){},function(){},function(){},function(e){c=e.a},function(e){r=e.t},function(e){o=e.u},function(){},function(){},function(e){u=e.P},function(e){l=e.H,s=e.L,i=e.E,m=e.N,d=e.T,f=e.A},function(e){p=e.E},function(e){E=e.a},function(e){y=e.m,T=e.b}],execute:function(){e("default",o(function(e){return{session:e.session,balance:e.balance}})(function(e){var o=e.name,b=e.amount,j=e.via,S=e.dispatch,h=function(e){return document.querySelector("input[name=password]")&&e.append("password",document.querySelector("input[name=password]").value),S({type:r.SET_AUTHORIZE,payload:{status:!1}}),E(c.sendMoney,e).then(function(n){if("bank"===e.get("method")&&n){if(n.resp.reference_id)return S({type:r.SET_REFERENCE_AND_TRANSACTION,payload:{reference:n,transaction:{redirect:"/pay"}}}),a("/authorize/bank/".concat(n.resp.reference_id))}else if(n&&"completed"===n.status)return S({type:r.SET_TRANSACTION,payload:{status:!0,amount:e.get("amount"),contact:e.get("contact"),note:"Transfer Complete",redirect:"/pay"}});S({type:r.SET_BUTTON,payload:!1})})},A=function(e){return e.map(function(e,t){var a=e.code,c=e.name;return n.createElement("option",{key:t,value:a},c)})};return n.createElement(u,null,n.createElement("div",{className:"header"},n.createElement(t,{to:"/pay?tab=pay&option=send#/new"},n.createElement(p,null)),n.createElement("h5",null,o)),n.createElement("div",null,n.createElement("form",{id:"pay",onSubmit:function(e){e.preventDefault();var n=document.querySelector("#pay"),t=new FormData(n);return S({type:r.SET_AUTHORIZE_AND_TRANSACTION,payload:{transaction:{proceed:function(){return h(t)}},authorize:{status:!0,proceed:function(){return h(t)}}}})}},l({name:"method",defaultValue:j}),l({name:"saveUser",defaultValue:!0}),l({name:"name",defaultValue:o}),l({name:"amount",defaultValue:b}),"bank"===j&&n.createElement(s,null,n.createElement("select",{name:"processorType"},A(T))),"momo"===j&&n.createElement(s,null,n.createElement("select",{name:"processorType"},A(y))),"email"===j&&n.createElement(s,null,i({placeholder:"Email"})),"sms"===j&&n.createElement(s,null,m({name:"tel",placeholder:"Tel number"})),"bank"===j||"momo"===j&&n.createElement(s,null,m({name:"contact",placeholder:"".concat(j)+" digit"})),n.createElement(s,null,d({name:"note",placeholder:"Optional note"})),n.createElement(s,null,n.createElement(f,null,"Send")))))}))}}});
