import{g as t,c as e,h as n,u as o}from"./index-80ae32d7.js";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function i(){}var a=e(function(t){t.exports=function(){function t(t,e,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=i,n.PropTypes=n,n}()}),u=function(t,e,n,o,r,i,a,u){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,i,a,u],p=0;(c=new Error(e.replace(/%s/g,function(){return s[p++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},c="__global_unique_id__",s=function(){return n[c]=(n[c]||0)+1};function p(t){return function(){return t}}var l=function(){};l.thatReturns=p,l.thatReturnsFalse=p(!1),l.thatReturnsTrue=p(!0),l.thatReturnsNull=p(null),l.thatReturnsThis=function(){return this},l.thatReturnsArgument=function(t){return t};var f=l,h=e(function(e,n){n.__esModule=!0;i(t);var o=i(a),r=i(s);i(f);function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=1073741823;n.default=function(e,n){var i,a,s="__create-react-context-"+(0,r.default)()+"__",f=function(t){function e(){var n,o,r,i;u(this,e);for(var a=arguments.length,s=Array(a),p=0;p<a;p++)s[p]=arguments[p];return n=o=c(this,t.call.apply(t,[this].concat(s))),o.emitter=(r=o.props.value,i=[],{on:function(t){i.push(t)},off:function(t){i=i.filter(function(e){return e!==t})},get:function(){return r},set:function(t,e){r=t,i.forEach(function(t){return t(r,e)})}}),c(o,n)}return p(e,t),e.prototype.getChildContext=function(){var t;return(t={})[s]=this.emitter,t},e.prototype.componentWillReceiveProps=function(t){if(this.props.value!==t.value){var e=this.props.value,o=t.value,r=void 0;((i=e)===(a=o)?0!==i||1/i==1/a:i!=i&&a!=a)?r=0:(r="function"==typeof n?n(e,o):l,0!=(r|=0)&&this.emitter.set(t.value,r))}var i,a},e.prototype.render=function(){return this.props.children},e}(t.Component);f.childContextTypes=((i={})[s]=o.default.object.isRequired,i);var h=function(t){function n(){var e,o;u(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=o=c(this,t.call.apply(t,[this].concat(i))),o.state={value:o.getValue()},o.onUpdate=function(t,e){0!=((0|o.observedBits)&e)&&o.setState({value:o.getValue()})},c(o,e)}return p(n,t),n.prototype.componentWillReceiveProps=function(t){var e=t.observedBits;this.observedBits=null==e?l:e},n.prototype.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var t=this.props.observedBits;this.observedBits=null==t?l:t},n.prototype.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[s]?this.context[s].get():e},n.prototype.render=function(){return(t=this.props.children,Array.isArray(t)?t[0]:t)(this.state.value);var t},n}(t.Component);return h.contextTypes=((a={})[s]=o.default.object,a),{Provider:f,Consumer:h}},e.exports=n.default});o(h);var d=o(e(function(e,n){n.__esModule=!0;var o=i(t),r=i(h);function i(t){return t&&t.__esModule?t:{default:t}}n.default=o.default.createContext||r.default,e.exports=n.default}));function v(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function m(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function y(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}v.__suppressDeprecationWarning=!0,m.__suppressDeprecationWarning=!0,y.__suppressDeprecationWarning=!0;var g,b,_,w,E,P=function(t,e){return t.substr(0,e.length)===e},x=function(t,e){if(P(t,"/"))return t;var n=t.split("?"),o=n[0],r=n[1],i=e.split("?")[0],a=R(o),u=R(i);if(""===a[0])return j(i,r);if(!P(a[0],".")){var c=u.concat(a).join("/");return j(("/"===i?"":"/")+c,r)}for(var s=u.concat(a),p=[],l=0,f=s.length;l<f;l++){var h=s[l];".."===h?p.pop():"."!==h&&p.push(h)}return j("/"+p.join("/"),r)},C=function(t,e){return"/"+R(t).map(function(t){var n=S.exec(t);return n?e[n[1]]:t}).join("/")},S=/^:(.+)/,U=function(t){return S.test(t)},O=function(t,e){return{route:t,score:t.default?0:R(t.path).reduce(function(t,e){return t+=4,!function(t){return""===t}(e)?U(e)?t+=2:!function(t){return"*"===t}(e)?t+=3:t-=5:t+=1,t},0),index:e}},F=function(t){return t.map(O).sort(function(t,e){return t.score<e.score?1:t.score>e.score?-1:t.index-e.index})},R=function(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")},j=function(t,e){return t+(e?"?"+e:"")},D=["uri","path"],T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},W=function(t){return T({},t.location,{state:t.history.state,key:t.history.state&&t.history.state.key||"initial"})},A=!("undefined"==typeof window||!window.document||!window.document.createElement),k=(g=A?window:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=0,n=[{pathname:t,search:""}],o=[];return{get location(){return n[e]},addEventListener:function(t,e){},removeEventListener:function(t,e){},history:{get entries(){return n},get index(){return e},get state(){return o[e]},pushState:function(t,r,i){var a=i.split("?"),u=a[0],c=a[1],s=void 0===c?"":c;e++,n.push({pathname:u,search:s}),o.push(t)},replaceState:function(t,r,i){var a=i.split("?"),u=a[0],c=a[1],s=void 0===c?"":c;n[e]={pathname:u,search:s},o[e]=t}}}}(),b=[],_=W(g),w=!1,E=function(){},{get location(){return _},get transitioning(){return w},_onTransitionComplete:function(){w=!1,E()},listen:function(t){b.push(t);var e=function(){_=W(g),t({location:_,action:"POP"})};return g.addEventListener("popstate",e),function(){g.removeEventListener("popstate",e),b=b.filter(function(e){return e!==t})}},navigate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.state,o=e.replace,r=void 0!==o&&o;n=T({},n,{key:Date.now()+""});try{w||r?g.history.replaceState(n,null,t):g.history.pushState(n,null,t)}catch(e){g.location[r?"replace":"assign"](t)}_=W(g),w=!0;var i=new Promise(function(t){return E=t});return b.forEach(function(t){return t({location:_,action:"PUSH"})}),i}}),M=k.navigate,I=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t};function B(t,e){var n={};for(var o in t)e.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}function N(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function L(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var V=function(t,e){var n=d(e);return n.Consumer.displayName=t+".Consumer",n.Provider.displayName=t+".Provider",n},K=V("Location"),$=function(e){var n=e.children;return t.createElement(K.Consumer,null,function(e){return e?n(e):t.createElement(H,null,n)})},H=function(e){function n(){var t,o;N(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=o=q(this,e.call.apply(e,[this].concat(i))),o.state={context:o.getContext(),refs:{unlisten:null}},q(o,t)}return L(n,e),n.prototype.getContext=function(){var t=this.props.history;return{navigate:t.navigate,location:t.location}},n.prototype.componentDidCatch=function(t,e){if(!it(t))throw t;(0,this.props.history.navigate)(t.uri,{replace:!0})},n.prototype.componentDidUpdate=function(t,e){e.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},n.prototype.componentDidMount=function(){var t=this,e=this.state.refs,n=this.props.history;e.unlisten=n.listen(function(){Promise.resolve().then(function(){requestAnimationFrame(function(){t.unmounted||t.setState(function(){return{context:t.getContext()}})})})})},n.prototype.componentWillUnmount=function(){var t=this.state.refs;this.unmounted=!0,t.unlisten()},n.prototype.render=function(){var e=this.state.context,n=this.props.children;return t.createElement(K.Provider,{value:e},"function"==typeof n?n(e):n||null)},n}(t.Component);H.defaultProps={history:k};var Y=V("Base",{baseuri:"/",basepath:"/"}),z=function(e){return t.createElement(Y.Consumer,null,function(n){return t.createElement($,null,function(o){return t.createElement(G,I({},n,o,e))})})},G=function(e){function n(){return N(this,n),q(this,e.apply(this,arguments))}return L(n,e),n.prototype.render=function(){var e=this.props,n=e.location,o=e.navigate,r=e.basepath,i=e.primary,a=e.children,c=(e.baseuri,e.component),s=void 0===c?"div":c,p=B(e,["location","navigate","basepath","primary","children","baseuri","component"]),l=function(t,e){for(var n=void 0,o=void 0,r=e.split("?")[0],i=R(r),a=""===i[0],c=F(t),s=0,p=c.length;s<p;s++){var l=!1,f=c[s].route;if(f.default)o={route:f,params:{},uri:e};else{for(var h=R(f.path),d={},v=Math.max(i.length,h.length),m=0;m<v;m++){var y=h[m],g=i[m];if("*"===y){d["*"]=i.slice(m).map(decodeURIComponent).join("/");break}if(void 0===g){l=!0;break}var b=S.exec(y);if(b&&!a){-1===D.indexOf(b[1])||u(!1);var _=decodeURIComponent(g);d[b[1]]=_}else if(y!==g){l=!0;break}}if(!l){n={route:f,params:d,uri:"/"+i.slice(0,m).join("/")};break}}}return n||o||null}(t.Children.map(a,st(r)),n.pathname);if(l){var f=l.params,h=l.uri,d=l.route,v=l.route.value;r=d.default?r:d.path.replace(/\*$/,"");var m=I({},f,{uri:h,location:n,navigate:function(t,e){return o(x(t,h),e)}}),y=t.cloneElement(v,m,v.props.children?t.createElement(z,{primary:i},v.props.children):void 0),g=i?Q:s,b=i?I({uri:h,location:n,component:s},p):p;return t.createElement(Y.Provider,{value:{baseuri:h,basepath:r}},t.createElement(g,b,y))}return null},n}(t.PureComponent);G.defaultProps={primary:!0};var J=V("Focus"),Q=function(e){var n=e.uri,o=e.location,r=e.component,i=B(e,["uri","location","component"]);return t.createElement(J.Consumer,null,function(e){return t.createElement(tt,I({},i,{component:r,requestFocus:e,uri:n,location:o}))})},X=!0,Z=0,tt=function(e){function n(){var t,o;N(this,n);for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=o=q(this,e.call.apply(e,[this].concat(i))),o.state={},o.requestFocus=function(t){o.state.shouldFocus||t.focus()},q(o,t)}return L(n,e),n.getDerivedStateFromProps=function(t,e){if(null==e.uri)return I({shouldFocus:!0},t);var n=t.uri!==e.uri,o=e.location.pathname!==t.location.pathname&&t.location.pathname===t.uri;return I({shouldFocus:n||o},t)},n.prototype.componentDidMount=function(){Z++,this.focus()},n.prototype.componentWillUnmount=function(){0===--Z&&(X=!0)},n.prototype.componentDidUpdate=function(t,e){t.location!==this.props.location&&this.state.shouldFocus&&this.focus()},n.prototype.focus=function(){var t=this.props.requestFocus;t?t(this.node):X?X=!1:this.node.contains(document.activeElement)||this.node.focus()},n.prototype.render=function(){var e=this,n=this.props,o=(n.children,n.style),r=(n.requestFocus,n.role),i=void 0===r?"group":r,a=n.component,u=void 0===a?"div":a,c=(n.uri,n.location,B(n,["children","style","requestFocus","role","component","uri","location"]));return t.createElement(u,I({style:I({outline:"none"},o),tabIndex:"-1",role:i,ref:function(t){return e.node=t}},c),t.createElement(J.Provider,{value:this.requestFocus},this.props.children))},n}(t.Component);!function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,o=null,r=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?r="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==r){var i=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=v,e.componentWillReceiveProps=m),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=y;var u=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,t,e,o)}}}(tt);var et=function(){},nt=t.forwardRef;void 0===nt&&(nt=function(t){return t});var ot=nt(function(e,n){var o=e.innerRef,r=B(e,["innerRef"]);return t.createElement(Y.Consumer,null,function(e){e.basepath;var i=e.baseuri;return t.createElement($,null,function(e){var a=e.location,u=e.navigate,c=r.to,s=r.state,p=r.replace,l=r.getProps,f=void 0===l?et:l,h=B(r,["to","state","replace","getProps"]),d=x(c,i),v=a.pathname===d,m=P(a.pathname,d);return t.createElement("a",I({ref:n||o,"aria-current":v?"page":void 0},h,f({isCurrent:v,isPartiallyCurrent:m,href:d,location:a}),{href:d,onClick:function(t){h.onClick&&h.onClick(t),pt(t)&&(t.preventDefault(),u(d,{state:s,replace:p}))}}))})})});function rt(t){this.uri=t}var it=function(t){return t instanceof rt},at=function(t){function e(){return N(this,e),q(this,t.apply(this,arguments))}return L(e,t),e.prototype.componentDidMount=function(){var t=this.props,e=t.navigate,n=t.to,o=(t.from,t.replace),r=void 0===o||o,i=t.state,a=(t.noThrow,B(t,["navigate","to","from","replace","state","noThrow"]));Promise.resolve().then(function(){e(C(n,a),{replace:r,state:i})})},e.prototype.render=function(){var t=this.props,e=(t.navigate,t.to),n=(t.from,t.replace,t.state,t.noThrow),o=B(t,["navigate","to","from","replace","state","noThrow"]);return n||function(t){throw new rt(t)}(C(e,o)),null},e}(t.Component),ut=function(e){return t.createElement($,null,function(n){return t.createElement(at,I({},n,e))})},ct=function(t){return t.replace(/(^\/+|\/+$)/g,"")},st=function(t){return function(e){if(!e)return null;var n,o,r;if(e.props.path||e.props.default||e.type===ut||u(!1),e.type!==ut||e.props.from&&e.props.to||u(!1),e.type===ut&&(n=e.props.from,o=e.props.to,r=function(t){return U(t)},R(n).filter(r).sort().join("/")!==R(o).filter(r).sort().join("/"))&&u(!1),e.props.default)return{value:e,default:!0};var i=e.type===ut?e.props.from:e.props.path,a="/"===i?t:ct(t)+"/"+ct(i);return{value:e,default:e.props.default,path:e.props.children?ct(a)+"/*":a}}},pt=function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)};export{ot as L,z as R,t as _,M as n};
